{# card_products.html #}
<div class="bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden flex flex-col">
  {% if product.thumbnail %}
    <div class="h-40 bg-slate-100 overflow-hidden">
      <img src="{{ product.thumbnail }}" alt="{{ product.name }}" class="object-cover w-full h-full">
    </div>
  {% else %}
    <div class="h-40 bg-gradient-to-b from-[#7F8CAA]/8 to-[#5459AC]/6 flex items-center justify-center text-slate-400">
      No image
    </div>
  {% endif %}

  <div class="p-4 flex-1 flex flex-col">
    <div class="flex items-start justify-between gap-2">
      <div>
        <h3 class="text-sm font-semibold text-slate-900">
          <a href="{% url 'main:show_product' product.id %}">{{ product.name }}</a>
        </h3>
        <p class="text-xs text-slate-500 mt-1">{{ product.category|capfirst }}</p>
      </div>
      {% if product.is_featured %}
        <span class="text-xs px-2 py-0.5 rounded-full bg-[#52357B] text-white font-semibold">
          Featured
        </span>
      {% endif %}
    </div>

    <p class="mt-3 text-sm text-slate-700 grow">
      {{ product.description|truncatewords:18 }}
    </p>

    <div class="mt-4 flex items-center justify-between">
      <div>
        <div class="text-sm font-semibold text-slate-900">Rp{{ product.price }}</div>
        <div class="text-xs text-slate-500">Stock: {{ product.stock }}</div>
      </div>

      <div class="flex-shrink-0 flex items-center gap-2">
        <a href="{% url 'main:show_product' product.id %}" 
           class="px-3 py-1.5 rounded-md bg-[#5459AC] hover:bg-[#463f8f] text-white text-sm transition">
          View
        </a>
        {% if user.is_authenticated and product.user == user %}
          <a href="{% url 'main:edit_product' product.pk %}" 
             class="px-3 py-1.5 rounded-md border border-slate-200 text-sm text-slate-700 hover:bg-slate-50 transition">
            Edit
          </a>
          <a href="{% url 'main:delete_product' product.pk %}" 
             class="px-3 py-1.5 rounded-md bg-[#52357B] hover:bg-[#42285f] text-white text-sm transition">
            Delete
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>